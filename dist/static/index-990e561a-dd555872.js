import{ar as zn,as as Bn,at as Wn,au as $n,r as u,aq as en,av as Je,aw as Qe,ax as ce,u as oe,ay as tn,s as W,F as k,az as Hn,j as r,P as _e,G as Pe,aA as pe,a0 as Be,aB as Ze,aC as B,aD as Un,aE as Vn,aF as nn,aG as ae,C as Z,T as R,af as Yn,ag as Ee,m as We,aH as Gn,w as de,ao as on,B as O,d as $,y as sn,aI as $e,ah as Kn,aJ as qn,a1 as Xn,aK as Jn,aL as Qn,aM as Zn,z as eo,v as rn,aN as to,aO as no,aP as oo,aQ as so,aR as we,f as et,b as tt,A as ro,aS as ao,aT as io,aU as lo,aV as se,aW as co,aX as uo,aY as po,aZ as ue,W as ho,a_ as nt,a$ as G,x as X,b0 as fo,b1 as Ie,b2 as mo,h as an,l as ln,b3 as go,b4 as xo,D as vo,b5 as bo,b6 as yo,q as cn,b7 as jo,b8 as _o,b9 as ut,ba as Se,bb as dn,bc as Po,bd as un,g as Eo,be as wo,bf as He,bg as pn,bh as Io,bi as So,e as Co,bj as Do,bk as Oo,bl as hn,bm as Ro,bn as Mo,bo as To,L as J,Y as Q,t as No,Q as fn,bp as ko,bq as Ao,br as mn,bs as Ue,bt as Lo,bu as gn,bv as pt,bw as Fo,bx as xn,by as zo,bz as Bo,bA as Wo,bB as ot,bC as $o,bD as Ve,bE as Ho,bF as Uo,bG as Te,bH as Vo,bI as Yo,bJ as Go,bK as Ko,M as qo,Z as ht,bL as st,bM as Xo,bN as Jo,bO as Qo,bP as Ne,H as Zo,bQ as ft,bR as Ye,bS as vn,R as es,bT as ts,bU as ns,bV as rt,bW as os,bX as ss,bY as rs,bZ as as,b_ as Ge,b$ as is,c0 as ls,c1 as cs,c2 as ds,a as us,c3 as ps,c4 as hs,c5 as Ke,c6 as fs,c7 as ms,c8 as gs,c9 as mt,a4 as xs,a5 as vs,ca as bn,cb as yn,cc as jn,cd as _n,ce as bs,cf as ys,cg as js,ch as _s,ci as ke}from"./sanity-881c9da3.js";function Pn(e,t){var n=typeof t=="object";return new Promise(function(s,o){var a=new zn({next:function(i){s(i),a.unsubscribe()},error:o,complete:function(){n?s(t.defaultValue):o(new Bn)}});e.subscribe(a)})}function Ps(){return Wn(function(e,t){var n,s=!1;e.subscribe($n(t,function(o){var a=n;n=o,s&&t.next([a,o]),s=!0}))})}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var gt=Object.getOwnPropertySymbols,Es=Object.prototype.hasOwnProperty,ws=Object.prototype.propertyIsEnumerable;function Is(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Ss(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var s=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(s.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(a){o[a]=a}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Cs=Ss()?Object.assign:function(e,t){for(var n,s=Is(e),o,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var i in n)Es.call(n,i)&&(s[i]=n[i]);if(gt){o=gt(n);for(var c=0;c<o.length;c++)ws.call(n,o[c])&&(s[o[c]]=n[o[c]])}}return s},he=Cs,Ds={};function V(e,t,n,s,o,a,i,c){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,s,o,a,i,c],p=0;l=new Error(t.replace(/%s/g,function(){return d[p++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var xt="mixins";function Os(e,t,n){var s=[],o={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},a={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},i={displayName:function(m,f){m.displayName=f},mixins:function(m,f){if(f)for(var v=0;v<f.length;v++)l(m,f[v])},childContextTypes:function(m,f){m.childContextTypes=he({},m.childContextTypes,f)},contextTypes:function(m,f){m.contextTypes=he({},m.contextTypes,f)},getDefaultProps:function(m,f){m.getDefaultProps?m.getDefaultProps=h(m.getDefaultProps,f):m.getDefaultProps=f},propTypes:function(m,f){m.propTypes=he({},m.propTypes,f)},statics:function(m,f){d(m,f)},autobind:function(){}};function c(m,f){var v=o.hasOwnProperty(f)?o[f]:null;b.hasOwnProperty(f)&&V(v==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",f),m&&V(v==="DEFINE_MANY"||v==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",f)}function l(m,f){if(f){V(typeof f!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),V(!t(f),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var v=m.prototype,S=v.__reactAutoBindPairs;f.hasOwnProperty(xt)&&i.mixins(m,f.mixins);for(var _ in f)if(f.hasOwnProperty(_)&&_!==xt){var w=f[_],D=v.hasOwnProperty(_);if(c(D,_),i.hasOwnProperty(_))i[_](m,w);else{var T=o.hasOwnProperty(_),N=typeof w=="function",C=N&&!T&&!D&&f.autobind!==!1;if(C)S.push(_,w),v[_]=w;else if(D){var M=o[_];V(T&&(M==="DEFINE_MANY_MERGED"||M==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",M,_),M==="DEFINE_MANY_MERGED"?v[_]=h(v[_],w):M==="DEFINE_MANY"&&(v[_]=x(v[_],w))}else v[_]=w}}}}function d(m,f){if(f)for(var v in f){var S=f[v];if(f.hasOwnProperty(v)){var _=v in i;V(!_,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',v);var w=v in m;if(w){var D=a.hasOwnProperty(v)?a[v]:null;V(D==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",v),m[v]=h(m[v],S);return}m[v]=S}}}function p(m,f){V(m&&f&&typeof m=="object"&&typeof f=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var v in f)f.hasOwnProperty(v)&&(V(m[v]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",v),m[v]=f[v]);return m}function h(m,f){return function(){var S=m.apply(this,arguments),_=f.apply(this,arguments);if(S==null)return _;if(_==null)return S;var w={};return p(w,S),p(w,_),w}}function x(m,f){return function(){m.apply(this,arguments),f.apply(this,arguments)}}function y(m,f){var v=f.bind(m);return v}function j(m){for(var f=m.__reactAutoBindPairs,v=0;v<f.length;v+=2){var S=f[v],_=f[v+1];m[S]=y(m,_)}}var E={componentDidMount:function(){this.__isMounted=!0}},I={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(m,f){this.updater.enqueueReplaceState(this,m,f)},isMounted:function(){return!!this.__isMounted}},g=function(){};he(g.prototype,e.prototype,b);function P(m){var f=function(S,_,w){this.__reactAutoBindPairs.length&&j(this),this.props=S,this.context=_,this.refs=Ds,this.updater=w||n,this.state=null;var D=this.getInitialState?this.getInitialState():null;V(typeof D=="object"&&!Array.isArray(D),"%s.getInitialState(): must return an object or null",f.displayName||"ReactCompositeComponent"),this.state=D};f.prototype=new g,f.prototype.constructor=f,f.prototype.__reactAutoBindPairs=[],s.forEach(l.bind(null,f)),l(f,E),l(f,m),l(f,I),f.getDefaultProps&&(f.defaultProps=f.getDefaultProps()),V(f.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var v in o)f.prototype[v]||(f.prototype[v]=null);return f}return P}var Rs=Os,be=u,Ms=Rs;if(typeof be>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var Ts=new be.Component().updater,Ce=Ms(be.Component,be.isValidElement,Ts),Ns=Date.now||ks;function ks(){return new Date().getTime()}var vt=Ns,As=function(t,n,s){var o,a,i,c,l;n==null&&(n=100);function d(){var p=vt()-c;p<n&&p>0?o=setTimeout(d,n-p):(o=null,s||(l=t.apply(i,a),o||(i=a=null)))}return function(){i=this,a=arguments,c=vt();var h=s&&!o;return o||(o=setTimeout(d,n)),h&&(l=t.apply(i,a),i=a=null),l}},Ls=Fs;function Fs(e){for(var t=zs(e),n=1732584193,s=-271733879,o=-1732584194,a=271733878,i=0;i<t.length;i+=16){var c=n,l=s,d=o,p=a;n=A(n,s,o,a,t[i+0],7,-680876936),a=A(a,n,s,o,t[i+1],12,-389564586),o=A(o,a,n,s,t[i+2],17,606105819),s=A(s,o,a,n,t[i+3],22,-1044525330),n=A(n,s,o,a,t[i+4],7,-176418897),a=A(a,n,s,o,t[i+5],12,1200080426),o=A(o,a,n,s,t[i+6],17,-1473231341),s=A(s,o,a,n,t[i+7],22,-45705983),n=A(n,s,o,a,t[i+8],7,1770035416),a=A(a,n,s,o,t[i+9],12,-1958414417),o=A(o,a,n,s,t[i+10],17,-42063),s=A(s,o,a,n,t[i+11],22,-1990404162),n=A(n,s,o,a,t[i+12],7,1804603682),a=A(a,n,s,o,t[i+13],12,-40341101),o=A(o,a,n,s,t[i+14],17,-1502002290),s=A(s,o,a,n,t[i+15],22,1236535329),n=L(n,s,o,a,t[i+1],5,-165796510),a=L(a,n,s,o,t[i+6],9,-1069501632),o=L(o,a,n,s,t[i+11],14,643717713),s=L(s,o,a,n,t[i+0],20,-373897302),n=L(n,s,o,a,t[i+5],5,-701558691),a=L(a,n,s,o,t[i+10],9,38016083),o=L(o,a,n,s,t[i+15],14,-660478335),s=L(s,o,a,n,t[i+4],20,-405537848),n=L(n,s,o,a,t[i+9],5,568446438),a=L(a,n,s,o,t[i+14],9,-1019803690),o=L(o,a,n,s,t[i+3],14,-187363961),s=L(s,o,a,n,t[i+8],20,1163531501),n=L(n,s,o,a,t[i+13],5,-1444681467),a=L(a,n,s,o,t[i+2],9,-51403784),o=L(o,a,n,s,t[i+7],14,1735328473),s=L(s,o,a,n,t[i+12],20,-1926607734),n=F(n,s,o,a,t[i+5],4,-378558),a=F(a,n,s,o,t[i+8],11,-2022574463),o=F(o,a,n,s,t[i+11],16,1839030562),s=F(s,o,a,n,t[i+14],23,-35309556),n=F(n,s,o,a,t[i+1],4,-1530992060),a=F(a,n,s,o,t[i+4],11,1272893353),o=F(o,a,n,s,t[i+7],16,-155497632),s=F(s,o,a,n,t[i+10],23,-1094730640),n=F(n,s,o,a,t[i+13],4,681279174),a=F(a,n,s,o,t[i+0],11,-358537222),o=F(o,a,n,s,t[i+3],16,-722521979),s=F(s,o,a,n,t[i+6],23,76029189),n=F(n,s,o,a,t[i+9],4,-640364487),a=F(a,n,s,o,t[i+12],11,-421815835),o=F(o,a,n,s,t[i+15],16,530742520),s=F(s,o,a,n,t[i+2],23,-995338651),n=z(n,s,o,a,t[i+0],6,-198630844),a=z(a,n,s,o,t[i+7],10,1126891415),o=z(o,a,n,s,t[i+14],15,-1416354905),s=z(s,o,a,n,t[i+5],21,-57434055),n=z(n,s,o,a,t[i+12],6,1700485571),a=z(a,n,s,o,t[i+3],10,-1894986606),o=z(o,a,n,s,t[i+10],15,-1051523),s=z(s,o,a,n,t[i+1],21,-2054922799),n=z(n,s,o,a,t[i+8],6,1873313359),a=z(a,n,s,o,t[i+15],10,-30611744),o=z(o,a,n,s,t[i+6],15,-1560198380),s=z(s,o,a,n,t[i+13],21,1309151649),n=z(n,s,o,a,t[i+4],6,-145523070),a=z(a,n,s,o,t[i+11],10,-1120210379),o=z(o,a,n,s,t[i+2],15,718787259),s=z(s,o,a,n,t[i+9],21,-343485551),n=q(n,c),s=q(s,l),o=q(o,d),a=q(a,p)}return fe(n)+fe(s)+fe(o)+fe(a)}var bt="0123456789abcdef";function at(e,t){var n=e&1|t&1,s=e>>>1|t>>>1;return s<<1|n}function qe(e,t){var n=e&1^t&1,s=e>>>1^t>>>1;return s<<1|n}function ye(e,t){var n=e&1&(t&1),s=e>>>1&t>>>1;return s<<1|n}function q(e,t){var n=(e&65535)+(t&65535),s=(e>>16)+(t>>16)+(n>>16);return s<<16|n&65535}function fe(e){var t="",n;for(n=0;n<=3;n++)t+=bt.charAt(e>>n*8+4&15)+bt.charAt(e>>n*8&15);return t}function zs(e){var t=(e.length+8>>6)+1,n=new Array(t*16),s;for(s=0;s<t*16;s++)n[s]=0;for(s=0;s<e.length;s++)n[s>>2]|=e.charCodeAt(s)<<(e.length*8+s)%4*8;n[s>>2]|=128<<(e.length*8+s)%4*8;var o=e.length*8;return n[t*16-2]=o&255,n[t*16-2]|=(o>>>8&255)<<8,n[t*16-2]|=(o>>>16&255)<<16,n[t*16-2]|=(o>>>24&255)<<24,n}function Bs(e,t){return e<<t|e>>>32-t}function De(e,t,n,s,o,a){return q(Bs(q(q(t,e),q(s,a)),o),n)}function A(e,t,n,s,o,a,i){return De(at(ye(t,n),ye(~t,s)),e,t,o,a,i)}function L(e,t,n,s,o,a,i){return De(at(ye(t,s),ye(n,~s)),e,t,o,a,i)}function F(e,t,n,s,o,a,i){return De(qe(qe(t,n),s),e,t,o,a,i)}function z(e,t,n,s,o,a,i){return De(qe(n,at(t,~s)),e,t,o,a,i)}var Ws=Math.ceil(Math.random()*10),$s=function(){return++Ws},it=function(e){return Object.prototype.toString.call(e).slice(8,-1)},Hs=it;function Us(e){var t=Hs(e);return t!=="Object"&&t!=="Array"}var En=Us,Vs=u,Ys=Ce,me=Vs.createElement,Gs=Ys({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||t===-1)return me("span",null,e.string);var n=e.highlight.source.length,s=e.string.substr(t,n);return me("span",null,e.string.split(e.highlight).map(function(o,a){return me("span",{key:a},a>0?me("span",{className:"json-inspector__hl"},s):null,o)}))}}),Ks=u,qs=Ce,Xs=Ls,Js=$s,wn=it,ge=En,Qs=Gs,U=Ks.createElement,Zs=".root.",In=qs({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+Js(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},s=this._onClick.bind(this,n);return U("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},U("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),U("label",{className:"json-inspector__line",htmlFor:e,onClick:s},U("div",{className:"json-inspector__flatpath"},n.path),U("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=wn(e);switch(t){case"Array":var n=e.length;return U("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[…] ":"[] ")+er(n));case"Object":var s=Object.keys(e).length;return U("span",{className:"json-inspector__value json-inspector__value_helper"},(s>0?"{…} ":"{} ")+tr(s));default:return U("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!ge(n)?Object.keys(n).map(function(s){var o=n[s],a=!this.state.original||(e.verboseShowOriginal?e.query:!1);return U(In,{data:o,label:s,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:a?e.getOriginal:null,key:nr(s,o),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var e=this.props;return ge(e.data)||this.state.original||!e.getOriginal||!e.query||Ae(this.keypath(),e.query)?null:U("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return typeof this.props.interactiveLabel=="function"?U(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!Ae(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(Zs.length)},data:function(){return this.state.original||this.props.data},format:function(e){return U(Qs,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),ge(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return e.root?!0:e.query?!Ae(t,e.query)&&typeof e.getOriginal=="function":e.isExpanded(t,e.data)}});function er(e){return e+(e===1?" item":" items")}function tr(e){return e+(e===1?" property":" properties")}function nr(e,t){if(ge(t)){var n=Xs(String(t));return e+":"+n}else return e+"["+wn(t)+"]"}function Ae(e,t){return e.indexOf(t)!==-1}var or=In,Sn=function(){},sr=u,rr=Ce,ar=sr.createElement,ir=Sn,lr=rr({getDefaultProps:function(){return{onChange:ir}},render:function(){return ar("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}}),Cn=function(e){return Object.keys(e).length===0},cr=Object.keys,dr=En,ur=Cn,pr=function(e,t){t||(t={cacheResults:!0});var n={};return function(s){if(!t.cacheResults)return xe(e,s,t);var o;if(!n[s]){for(var a=s.length-1;a>0;a-=1)if(o=s.substr(0,a),n[o]){n[s]=xe(n[o],s,t);break}}return n[s]||(n[s]=xe(e,s,t)),n[s]}};function xe(e,t,n){return cr(e).reduce(function(s,o){var a=e[o],i;return dr(a)?(Le(t,o,n)||Le(t,a,n))&&(s[o]=a):Le(t,o,n)?s[o]=a:(i=xe(a,t,n),ur(i)||Object.assign(s,hr(o,i))),s},{})}function Le(e,t,n){if(t){var s=String(t),o=e;return n.ignoreCase&&(s=s.toLowerCase(),o=o.toLowerCase()),s.indexOf(o)!==-1}}function hr(e,t){var n={};return n[e]=t,n}var fr=it,Fe=".";function Xe(e,t){var n=t.split(Fe),s=n.shift();if(!s)return e;var o=fr(e);if(o==="Array"&&e[yt(s)])return Xe(e[yt(s)],n.join(Fe));if(o==="Object"&&e[s])return Xe(e[s],n.join(Fe))}function yt(e){return parseInt(e,10)}var mr=Xe,gr=u,xr=Ce,vr=As,ie=gr.createElement,br=or,yr=lr,jr=pr,_r=Cn,Pr=mr,Er=Sn,wr=xr({getDefaultProps:function(){return{data:null,search:yr,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:Er,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=t.query!==""&&e.validateQuery(t.query),s=n?t.filterer(t.query):e.data,o=n&&_r(s);return ie("div",{className:"json-inspector "+e.className},this.renderToolbar(),o?ie("div",{className:"json-inspector__not-found"},"Nothing found"):ie(br,{data:s,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return ie("div",{className:"json-inspector__toolbar"},ie(e,{onChange:vr(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions);var t=typeof e.query=="string"&&e.query!==this.state.query;t&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:jr(e,t)})},getOriginal:function(e){return Pr(this.props.data,e)}});const Ir=en(wr);var Sr=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),s=Object.create(null);function o(a,i){n[a]=i,t++,t>=e&&(t=0,s=n,n=Object.create(null))}return{has:function(a){return n[a]!==void 0||s[a]!==void 0},remove:function(a){n[a]!==void 0&&(n[a]=void 0),s[a]!==void 0&&(s[a]=void 0)},get:function(a){var i=n[a];if(i!==void 0)return i;if((i=s[a])!==void 0)return o(a,i),i},set:function(a,i){n[a]!==void 0?n[a]=i:o(a,i)},clear:function(){n=Object.create(null),s=Object.create(null)}}};const Cr=en(Sr),lt=e=>{const{actions:t,children:n,actionProps:s,onActionComplete:o}=e;return r.jsx(pn,{onReset:o,hooks:t,args:s,children:n})},Dr=e=>{const{badges:t,children:n,badgeProps:s,...o}=e;return r.jsx(pn,{...o,hooks:t,args:s,children:n})},Or=[];function Rr(e){const{children:t,flatIndex:n,index:s,params:o,payload:a,siblingIndex:i}=e,{navigate:c,navigateIntent:l}=Je(),d=Qe(),p=u.useMemo(()=>(d==null?void 0:d.panes)||Or,[d==null?void 0:d.panes]),h=s-1,x=u.useCallback(b=>{const g=p[h]||[],P=g[i],m=b(g,P),f=[...p.slice(0,h),m,...p.slice(h+1)],v={...d||{},panes:f};return setTimeout(()=>c(v),0),v},[h,c,p,d,i]),y=u.useCallback(b=>{x((g,P)=>[...g.slice(0,i),{...P,payload:b},...g.slice(i+1)])},[x,i]),j=u.useCallback(b=>{x((g,P)=>[...g.slice(0,i),{...P,params:b},...g.slice(i+1)])},[x,i]),E=u.useCallback(b=>{let{id:g,parentRefPath:P,type:m,template:f}=b;c({panes:[...p.slice(0,h+1),[{id:g,params:{template:f.id,parentRefPath:Io(P),type:m},payload:f.params}]]})},[h,c,p]),I=u.useMemo(()=>({index:n,groupIndex:h,siblingIndex:i,payload:a,params:o,hasGroupSiblings:p[h]?p[h].length>1:!1,groupLength:p[h]?p[h].length:0,routerPanesState:p,ChildLink:So,BackLink:Co,ReferenceChildLink:Do,handleEditReference:E,ParameterizedLink:Oo,replaceCurrent:function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};x(()=>[{id:b.id||"",payload:b.payload,params:b.params||{}}])},closeCurrent:()=>{x((b,g)=>b.length>1?b.filter(P=>P!==g):b)},duplicateCurrent:b=>{x((g,P)=>{const m={...P,payload:(b==null?void 0:b.payload)||P.payload,params:(b==null?void 0:b.params)||P.params};return[...g.slice(0,i),m,...g.slice(i)]})},setView:b=>{const g=hn(o,"view");return j(b?{...g,view:b}:g)},setParams:j,setPayload:y,navigateIntent:l}),[n,h,E,x,l,o,a,p,j,y,i]);return r.jsx(Ro.Provider,{value:I,children:t})}function Mr(e,t,n,s){var o,a;const i={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},c=(o=t.minWidth)!=null?o:Ke,l=(a=n.minWidth)!=null?a:Ke,d=Math.min(t.maxWidth||1/0,i.width-l),p=Math.min(n.maxWidth||1/0,i.width-c);let h=c-e.left.width;const x=e.right.width-p;h<x&&(h=x);let y=e.right.width-l;const j=d-e.left.width;y>j&&(y=j);const E=Math.min(Math.max(s,h),y),I=e.left.width+E,b=e.right.width-E,g=I/i.width*i.flex,P=b/i.width*i.flex;return{leftFlex:g,leftW:I,rightFlex:P,rightW:b}}function Tr(e,t){const n=[];let s=t;for(;s!==e;){const o=s.parentElement;if(!o)return n;const i=Array.from(o.childNodes).indexOf(s);if(n.unshift(i),o===e)return n;s=o}return n}const jt=[];function Nr(e,t){const n=new WeakMap;for(const o of t)n.set(o,Tr(e,o));const s=(o,a)=>{const i=n.get(o)||jt,c=n.get(a)||jt,l=Math.max(i.length,c.length);for(let d=0;d<l;d+=1){const p=i[d]||-1,h=c[d]||-1;if(p!==h)return p-h}return 0};t.sort(s)}function kr(){const e=[],t=[],n=new WeakMap,s=new Set,o={};let a=null,i=0,c=null,l=new Map,d=!1;function p(g){s.add(g),c===g&&(c=null),b()}function h(g){s.delete(g),c=g,b()}function x(g,P){return n.set(g,{...P,original:P}),t.push(g),a&&Nr(a,t),h(g),()=>{const m=t.indexOf(g);m>-1&&t.splice(m,1),n.delete(g),b()}}function y(g,P,m){var f,v,S,_;const w=t.indexOf(P),D=n.get(P);if(!D)return;const T=t[w+1],N=n.get(T);if(N){if(g==="start"&&(d=!0,o.left={element:P,flex:D.flex||1,width:P.offsetWidth},o.right={element:T,flex:N.flex||1,width:T.offsetWidth},b()),g==="move"&&o.left&&o.right){l=new Map;const{leftW:C,rightW:M,leftFlex:H,rightFlex:Y}=Mr(o,D,N,m);l.set(P,{flex:H,width:C}),l.set(T,{flex:Y,width:M}),b()}if(g==="end"){d=!1;const C=l.get(P),M=l.get(T);n.set(P,{...D,currentMinWidth:0,currentMaxWidth:(f=D.maxWidth)!=null?f:1/0,flex:(v=C==null?void 0:C.flex)!=null?v:D.flex}),n.set(T,{...N,currentMinWidth:0,currentMaxWidth:(S=D.maxWidth)!=null?S:1/0,flex:(_=M==null?void 0:M.flex)!=null?_:N.flex}),l=new Map,delete o.left,delete o.right,b()}}}function j(g){a=g}function E(g){i=g,b()}function I(g){return e.push(g),()=>{const P=e.push(g);P>-1&&e.splice(P,1)}}return{collapse:p,expand:h,mount:x,resize:y,setRootElement:j,setRootWidth:E,subscribe:I};function b(){var g,P,m,f;if(!i)return;const v=[];for(const C of t)C!==c&&v.unshift(C);c&&v.unshift(c);const S=new WeakMap,_=v.length,w=v[0],D=(_-1)*ke;let T=i-D;for(const C of v){const M=n.get(C);if(!M)continue;const H=M.currentMinWidth||M.minWidth||Ke,Y=C===w,Re=s.has(C),Me=H>T,re=Y?!1:Re||Me,K=l.get(C);S.set(C,{element:C,collapsed:re,currentMinWidth:(g=K==null?void 0:K.width)!=null?g:M.currentMinWidth,currentMaxWidth:(P=K==null?void 0:K.width)!=null?P:M.currentMaxWidth,flex:(f=(m=K==null?void 0:K.flex)!=null?m:M.flex)!=null?f:1}),re?T-=ke:T-=H-ke}const N=[];for(const C of t){const M=S.get(C);M&&N.push(M)}for(const C of e)C({expandedElement:c||t[t.length-1]||null,panes:N,resizing:d})}}function Ar(e){const{children:t,minWidth:n,onCollapse:s,onExpand:o,...a}=e,i=u.useMemo(()=>kr(),[]),[c,l]=u.useState(null),d=Ie(c),p=(d==null?void 0:d.width)||0,h=p===void 0||!n?void 0:p<n,[x,y]=u.useState({expandedElement:null,panes:[],resizing:!1});u.useEffect(()=>i.setRootElement(c),[i,c]),u.useEffect(()=>i.setRootWidth(p),[i,p]),u.useEffect(()=>i.subscribe(y),[i]),u.useEffect(()=>{h!==void 0&&(h&&s&&s(),!h&&o&&o())},[h,s,o]);const j=u.useMemo(()=>({collapse:i.collapse,collapsed:h,expand:i.expand,expandedElement:x.expandedElement,mount:i.mount,panes:x.panes,resize:i.resize,resizing:x.resizing}),[h,i,x.expandedElement,x.panes,x.resizing]);return r.jsx(Mo.Provider,{value:j,children:r.jsx(To,{"data-ui":"PaneLayout",...a,"data-collapsed":h?"":void 0,"data-resizing":x.resizing?"":void 0,"data-mounted":p?"":void 0,ref:l,children:t})})}function Lr(e){const{documentId:t,documentType:n,flex:s}=e,{collapsed:o}=et(),{closeInspector:a,inspector:i}=B(),{features:c}=oe(),l=u.useCallback(()=>{i&&a(i.name)},[a,i]);if(o||!i)return null;const d=u.createElement(i.component,{onClose:l,documentId:t,documentType:n});return c.resizablePanes?r.jsx(Go,{as:"aside","data-ui":"DocumentInspectorPanel",flex:s,maxWidth:Ko,minWidth:Ve,children:d}):r.jsx(O,{as:"aside","data-ui":"DocumentInspectorPanel",flex:s,children:d})}var Fr=Object.defineProperty,zr=(e,t,n)=>t in e?Fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ze=(e,t,n)=>(zr(e,typeof t!="symbol"?t+"":t,n),n);class ne extends Error{constructor(t){let{message:n,context:s,helpId:o,cause:a}=t;super(n),ze(this,"cause"),ze(this,"context"),ze(this,"helpId"),this.context=s,this.helpId=o,this.cause=a}}const _t=new WeakMap;function Oe(e){const t=_t.get(e);if(t)return t;const n=ys();return _t.set(e,n),n}const Pt=new WeakMap;function Dn(e,t){const n=Pt.get(e)||new Map;if(n){const a=n.get(t);if(a)return a}const s=e[t];if(typeof s!="function")throw new Error("Expected property `".concat(t,"` to be a function but got ").concat(typeof s," instead."));const o=s.bind(e);return n.set(t,o),Pt.set(e,n),o}const Br=e=>!!e&&typeof(e==null?void 0:e.then)=="function",Wr=e=>ce(e)?typeof e.serialize=="function":!1,$r=e=>(t,n,s)=>{try{return e(t,n,s)}catch(o){throw o instanceof ne?o:new ne({message:typeof(o==null?void 0:o.message)=="string"?o.message:"",context:n,cause:o})}},Hr=e=>function(){return e(...arguments).pipe(js(1),_s())};function On(e){const t=$r(Hr(e((n,s,o)=>{if(!n)throw new ne({message:"Pane returned no child",context:s,helpId:"structure-item-returned-no-child"});return Br(n)||fs(n)?ms(n).pipe(st(a=>t(a,s,o))):Wr(n)?t(n.serialize(s),s,o):typeof n=="function"?t(n(s.id,s),s,o):Q(n)})));return t}async function Ur(e){const t=new Map,s=On(l=>(d,p,h)=>{const x=d&&"".concat(Oe(d),"-").concat(p.path.join("__")),y=x&&t.get(x);if(y)return y;const j=l(d,p,h);return x&&t.set(x,j),j}),o=[[{id:"__edit__".concat(e.params.id),params:{...hn(e.params,["id"]),type:e.params.type},payload:e.payload}]];async function a(l){let{currentId:d,flatIndex:p,intent:h,params:x,parent:y,path:j,payload:E,unresolvedPane:I,levelIndex:b,structureContext:g}=l;var P;if(!I)return[];const{id:m,type:f,...v}=x,_=await Pn(s(I,{id:d,splitIndex:0,parent:y,path:j,index:p,params:{},payload:void 0,structureContext:g},p));return _.type==="document"&&_.id===m?[{panes:[...j.slice(0,j.length-1).map(w=>[{id:w}]),[{id:m,params:v,payload:E}]],depthIndex:j.length,levelIndex:b}]:(P=_.canHandleIntent)!=null&&P.call(_,h,x,{pane:_,index:p})||_.type==="documentList"&&_.schemaTypeName===f&&_.options.filter==="_type == $type"?[{panes:[...j.map(w=>[{id:w}]),[{id:x.id,params:v,payload:E}]],depthIndex:j.length,levelIndex:b}]:_.type==="list"&&_.child&&_.items?(await Promise.all(_.items.map((w,D)=>w.type==="divider"?Promise.resolve([]):a({currentId:w._id||w.id,flatIndex:p+1,intent:h,params:x,parent:_,path:[...j,w.id],payload:E,unresolvedPane:typeof _.child=="function"?Dn(_,"child"):_.child,levelIndex:D,structureContext:g})))).flat():[]}const c=(await a({currentId:"root",flatIndex:0,levelIndex:0,intent:e.intent,params:e.params,parent:null,path:[],payload:e.payload,unresolvedPane:e.rootPaneNode,structureContext:e.structureContext})).sort((l,d)=>l.depthIndex===d.depthIndex?l.levelIndex-d.levelIndex:l.depthIndex-d.depthIndex)[0];return c?c.panes:o}const Vr=(e,t)=>{const n=e.replace(/^__edit__/,""),{params:s,payload:o,structureContext:{resolveDocumentNode:a}}=t,{type:i,template:c}=s;if(!i)throw new Error("Document type for document with ID ".concat(n," was not provided in the router params."));let l=a({schemaType:i,documentId:n}).id("editor");return c&&(l=l.initialValueTemplate(c,o)),l.serialize()};function Yr(e){var t,n;return"contextHash(".concat(JSON.stringify({id:e.id,parentId:parent&&Oe(parent),path:e.path,index:e.index,splitIndex:e.splitIndex,serializeOptionsIndex:(t=e.serializeOptions)==null?void 0:t.index,serializeOptionsPath:(n=e.serializeOptions)==null?void 0:n.path}),")")}const Et=e=>{const t={type:e.type,id:e.routerPaneSibling.id,params:e.routerPaneSibling.params||{},payload:e.routerPaneSibling.payload||null,flatIndex:e.flatIndex,groupIndex:e.groupIndex,siblingIndex:e.siblingIndex,path:e.path,paneNode:e.type==="resolvedMeta"?Oe(e.paneNode):null};return"metaHash(".concat(JSON.stringify(t),")")};function ve(e){let{unresolvedPane:t,flattenedRouterPanes:n,parent:s,path:o,resolvePane:a,structureContext:i}=e;const[c,...l]=n,d=l[0],p={id:c.routerPaneSibling.id,splitIndex:c.siblingIndex,parent:s,path:[...o,c.routerPaneSibling.id],index:c.flatIndex,params:c.routerPaneSibling.params||{},payload:c.routerPaneSibling.payload,structureContext:i};try{return a(t,p,c.flatIndex).pipe(st(h=>{const x={type:"resolvedMeta",...c,paneNode:h,path:p.path},y=l.map((E,I)=>({type:"loading",path:[...p.path,...l.slice(I).map((P,m)=>"[".concat(E.flatIndex+m,"]"))],paneNode:null,...E}));if(!l.length)return Q([x]);let j;return d!=null&&d.routerPaneSibling.id.startsWith("__edit__")?j=ve({unresolvedPane:Vr,flattenedRouterPanes:l,parent:s,path:p.path,resolvePane:a,structureContext:i}):c.groupIndex===(d==null?void 0:d.groupIndex)?j=ve({unresolvedPane:t,flattenedRouterPanes:l,parent:s,path:o,resolvePane:a,structureContext:i}):j=ve({unresolvedPane:typeof h.child=="function"?Dn(h,"child"):h.child,flattenedRouterPanes:l,parent:h,path:p.path,resolvePane:a,structureContext:i}),fn(Q([x,...y]),j.pipe(J(E=>[x,...E])))}))}catch(h){if(h instanceof ne&&(h.context&&console.warn("Pane resolution error at index ".concat(h.context.index).concat(h.context.splitIndex>0?" for split pane index ".concat(h.context.splitIndex):"",": ").concat(h.message).concat(h.helpId?" - see ".concat(vn(h.helpId)):""),h),h.helpId==="structure-item-returned-no-child"))return Q([]);throw h}}function Gr(e){let{routerPanesStream:t,rootPaneNode:n,initialCacheState:s={cacheKeysByFlatIndex:[],flattenedRouterPanes:[],resolvedPaneCache:new Map,resolvePane:()=>gs},structureContext:o}=e;return t.pipe(J(i=>[[{id:"root"}],...i]),J(i=>i.flatMap((l,d)=>l.map((p,h)=>({routerPaneSibling:p,groupIndex:d,siblingIndex:h}))).map((l,d)=>({...l,flatIndex:d}))),qo([]),Ps(),J(i=>{let[c,l]=i;for(let d=0;d<l.length;d++){const p=c[d],h=l[d];if(!Be(p,h))return{flattenedRouterPanes:l,diffIndex:d}}return{flattenedRouterPanes:l,diffIndex:l.length}}),ht((i,c)=>{const{cacheKeysByFlatIndex:l,resolvedPaneCache:d}=i,{flattenedRouterPanes:p,diffIndex:h}=c,x=l.slice(0,h+1),y=l.slice(h+1),j=new Set(x.flatMap(b=>Array.from(b))),E=y.flatMap(b=>Array.from(b)).filter(b=>!j.has(b));for(const b of E)d.delete(b);return{flattenedRouterPanes:p,cacheKeysByFlatIndex:l,resolvedPaneCache:d,resolvePane:On(b=>(g,P,m)=>{const f=g&&"".concat(Oe(g),"-").concat(Yr(P)),v=f&&d.get(f);if(v)return v;const S=b(g,P,m);if(!f)return S;const _=l[m]||new Set;return _.add(f),l[m]=_,d.set(f,S),S})}},s),st(i=>{let{flattenedRouterPanes:c,resolvePane:l}=i;return ve({unresolvedPane:n,flattenedRouterPanes:c,parent:null,path:[],resolvePane:l,structureContext:o})})).pipe(ht((i,c)=>c.map((l,d)=>{const p=i[d];return!p||l.type!=="loading"?l:p.routerPaneSibling.id===l.routerPaneSibling.id?p:l}),[]),Xo((i,c)=>{if(i.length!==c.length)return!1;for(let l=0;l<c.length;l++){const d=i[l],p=c[l];if(Et(d)!==Et(p))return!1}return!0}))}function Kr(){const e=u.useMemo(()=>new Jo(1),[]),t=u.useMemo(()=>e.asObservable().pipe(J(s=>(s==null?void 0:s.panes)||[])),[e]),{state:n}=Je();return u.useEffect(()=>{e.next(n)},[n,e]),t}function qr(){const[e,t]=u.useState();if(e)throw e;const{structureContext:n,rootPaneNode:s}=oe(),[o,a]=u.useState({paneDataItems:[],resolvedPanes:[],routerPanes:[]}),i=Kr();return u.useEffect(()=>{const l=Gr({rootPaneNode:s,routerPanesStream:i,structureContext:n}).pipe(J(d=>{const p=d.reduce((y,j)=>{const E=y[j.groupIndex]||[];return E[j.siblingIndex]=j.routerPaneSibling,y[j.groupIndex]=E,y},[]),h=p.length,x=d.map(y=>{var j;const{groupIndex:E,flatIndex:I,siblingIndex:b,routerPaneSibling:g,path:P}=y,m=g.id,f=p[E+1];return{active:E===h-2,childItemId:(j=f==null?void 0:f[0].id)!=null?j:null,index:I,itemId:g.id,groupIndex:E,key:"".concat(y.type==="loading"?"unknown":y.paneNode.id,"-").concat(m,"-").concat(b),pane:y.type==="loading"?He:y.paneNode,params:g.params||{},path:P.join(";"),payload:g.payload,selected:I===d.length-1,siblingIndex:b}});return{paneDataItems:x,routerPanes:p,resolvedPanes:x.map(y=>y.pane)}})).subscribe({next:d=>a(d),error:d=>t(d)});return()=>l.unsubscribe()},[s,i,n]),o}async function Xr(e,t,n){if(t&&n)return{id:t,type:n};if(!t&&n)return{id:Qo(),type:n};if(t&&!n){const s=await Pn(e.resolveTypeForDocument(t));return{id:t,type:s}}throw new ne({message:"Neither document `id` or `type` was provided when trying to resolve intent."})}const Jr={},Qr=u.memo(function(){const{navigate:t}=Je(),n=Qe(u.useCallback(l=>{const d=typeof l.intent=="string"?l.intent:void 0;return d?{intent:d,params:ce(l.params)?l.params:Jr,payload:l.payload}:void 0},[])),{rootPaneNode:s,structureContext:o}=oe(),a=tn(),[i,c]=u.useState(null);if(i)throw i;return u.useEffect(()=>{if(n){const{intent:l,params:d,payload:p}=n;let h=!1;async function x(){const{id:y,type:j}=await Xr(a,typeof d.id=="string"?d.id:void 0,typeof d.type=="string"?d.type:void 0);if(h)return;const E=await Ur({intent:l,params:{...d,id:y,type:j},payload:p,rootPaneNode:s,structureContext:o});h||t({panes:E},{replace:!0})}return x().catch(c),()=>{h=!0}}},[a,n,t,s,o]),null});var wt=Object.freeze,Zr=Object.defineProperty,ea=(e,t)=>wt(Zr(e,"raw",{value:wt(t||e.slice())})),It;const ta=W.span(It||(It=ea([`
  &:not(:last-child)::after {
    content: ' ➝ ';
    opacity: 0.5;
  }
`])));function na(e){return e.replace(/\(\.\.\.\)\./g,`(...)
  .`).replace(/__WEBPACK_IMPORTED_MODULE_\d+_+/g,"").replace(/___default\./g,".").replace(new RegExp(" \\(https?:\\/\\/".concat(window.location.host),"g")," (")}function oa(e){let{error:t}=e;if(!(t instanceof ne))throw t;const{cause:n}=t,s=(n==null?void 0:n.stack)||t.stack,o=s&&!(n instanceof Ne)&&!t.message.includes("Module build failed:"),a=n instanceof Ne?n.path:[],i=n instanceof Ne&&n.helpId||t.helpId,c=u.useCallback(()=>{window.location.reload()},[]);return r.jsx(Z,{height:"fill",overflow:"auto",padding:4,sizing:"border",tone:"critical",children:r.jsxs(de,{children:[r.jsx(Zo,{as:"h2",children:"Encountered an error while reading structure"}),r.jsxs(Z,{marginTop:4,padding:4,radius:2,overflow:"auto",shadow:1,tone:"inherit",children:[a.length>0&&r.jsxs(X,{space:2,children:[r.jsx(ft,{children:"Structure path"}),r.jsx(Ye,{children:a.slice(1).map((l,d)=>r.jsx(ta,{children:l},"".concat(l,"-").concat(d)))})]}),r.jsxs(X,{marginTop:4,space:2,children:[r.jsx(ft,{children:"Error"}),r.jsx(Ye,{children:o?na(s):t.message})]}),i&&r.jsx(O,{marginTop:4,children:r.jsx(R,{children:r.jsx("a",{href:vn(i),rel:"noopener noreferrer",target:"_blank",children:"View documentation"})})}),r.jsx(O,{marginTop:4,children:r.jsx($,{text:"Reload",icon:sn,tone:"primary",onClick:c})})]})]})})}function sa(e){const{isSelected:t,pane:n,paneKey:s}=e,o=ce(n)&&n.type||null;return r.jsxs(_e,{id:s,selected:t,children:[r.jsx(tt,{title:"Unknown pane type"}),r.jsx(Pe,{children:r.jsx(O,{padding:4,children:typeof o=="string"?r.jsxs(R,{as:"p",muted:!0,children:["Structure item of type ",r.jsx("code",{children:o})," is not a known entity."]}):r.jsxs(R,{as:"p",muted:!0,children:["Structure item is missing required ",r.jsx("code",{children:"type"})," property."]})})})]})}function ra(e){const t=[{ms:300,message:"Loading…"},{ms:5e3,message:"Still loading…"}],n=Q(null);return es(...t.map(s=>{let{ms:o,message:a}=s;return n.pipe(ts(a),ns(o))}))}var St=Object.freeze,aa=Object.defineProperty,ia=(e,t)=>St(aa(e,"raw",{value:St(t||e.slice())})),Ct;const la="Loading…",ca=W(k)(Ct||(Ct=ia([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),le=u.memo(e=>{const{delay:t=300,flex:n,message:s=ra,minWidth:o,paneKey:a,path:i,selected:c,title:l,tone:d}=e,p=u.useMemo(()=>typeof s=="function"?s(i?i.split(";"):[]):s,[s,i]),[h,x]=u.useState(()=>typeof p=="string"?p:la);u.useEffect(()=>{if(typeof p!="object"||typeof p.subscribe=="function")return;const g=p.subscribe(x);return()=>g.unsubscribe()},[p]);const[y,j]=u.useState(null),[E,I]=u.useState(!1);u.useEffect(()=>{if(y)return Hn(()=>I(!0))},[y]);const b=r.jsxs(ca,{align:"center","data-mounted":E?"":void 0,direction:"column",height:"fill",justify:"center",ref:j,children:[r.jsx(rn,{muted:!0}),(l||h)&&r.jsx(O,{marginTop:3,children:r.jsx(R,{align:"center",muted:!0,size:1,children:l||h})})]});return r.jsx(_e,{flex:n,id:a,minWidth:o,selected:c,tone:d,children:r.jsx(Pe,{children:b})})});le.displayName="LoadingPane";const da={component:u.lazy(()=>pe(()=>import("./index-df65886d-6c647e5a.js"),["static/index-df65886d-6c647e5a.js","static/sanity-881c9da3.js"])),document:u.lazy(()=>pe(()=>import("./index-a59da7d1-6096a634.js"),["static/index-a59da7d1-6096a634.js","static/sanity-881c9da3.js"])),documentList:u.lazy(()=>pe(()=>import("./index-bac3c61c-04d3a714.js"),["static/index-bac3c61c-04d3a714.js","static/sanity-881c9da3.js","static/PaneItem-1e97aa6c-2dff009d.js"])),list:u.lazy(()=>pe(()=>import("./index-cd896d4c-112897c6.js"),["static/index-cd896d4c-112897c6.js","static/sanity-881c9da3.js","static/PaneItem-1e97aa6c-2dff009d.js"]))},ua=u.memo(function(t){const{active:n,childItemId:s,groupIndex:o,index:a,itemId:i,pane:c,paneKey:l,params:d,payload:p,path:h,selected:x,siblingIndex:y}=t,j=da[c.type]||sa;return r.jsx(Rr,{flatIndex:a,index:o,params:d,payload:p,siblingIndex:y,children:r.jsx(u.Suspense,{fallback:r.jsx(le,{paneKey:l,path:h,selected:x}),children:r.jsx(j,{childItemId:s||"",index:a,itemId:i,isActive:n,isSelected:x,paneKey:l,pane:c})})})},(e,t)=>{let{params:n={},payload:s=null,...o}=e,{params:a={},payload:i=null,...c}=t;if(!Be(n,a)||!Be(s,i))return!1;const l=new Set([...Object.keys(o),...Object.keys(c)]);for(const d of l)if(o[d]!==c[d])return!1;return!0});function Rn(e){const{children:t,currentMinWidth:n,flex:s,minWidth:o,paneKey:a,title:i="Error",tone:c="critical"}=e;return r.jsxs(_e,{currentMinWidth:n,flex:s,id:a,minWidth:o,tone:c,children:[r.jsx(tt,{title:i}),r.jsx(Pe,{overflow:"auto",children:r.jsx(O,{paddingX:4,paddingY:5,children:t})})]})}function pa(e){return e==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:e==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(e)}function ha(e){return e==="publish"?"The document was published":e==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":e==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":e==="delete"?"The document was successfully deleted":"Successfully performed ".concat(e," on document")}const fa=["patch","commit"],ma=u.memo(function(){const{push:t}=Ze(),{documentId:n,documentType:s}=B(),o=Un(n,s),a=u.useRef(o);return u.useEffect(()=>{!o||o===a.current||(o.type==="error"&&t({closable:!0,duration:3e4,status:"error",title:pa(o.op),description:r.jsxs("details",{children:[r.jsx("summary",{children:"Details"}),o.error.message]})}),o.type==="success"&&!fa.includes(o.op)&&t({closable:!0,status:"success",title:ha(o.op)}),a.current=o)},[o,t]),null});function ga(e,t,n){const s=Vn(),[o,a]=u.useState(n),i=u.useMemo(()=>s.forNamespace("desk-tool"),[s]),c=u.useMemo(()=>e?i.forNamespace(e).forKey(t):i.forKey(t),[i,e,t]);u.useEffect(()=>{const d=c.listen(n).subscribe({next:a});return()=>d==null?void 0:d.unsubscribe()},[n,t,e,c]);const l=u.useCallback(d=>{a(d),c.set(d)},[c]);return u.useMemo(()=>[o,l],[l,o])}const ee={id:"parsed",title:"Parsed"},te={id:"raw",title:"Raw JSON"},xa=[ee,te],je=Cr(1e3);function Mn(e,t){const n=je.get(e);return n===void 0?(je.set(e,Array.isArray(t)||ce(t)),Mn(e,t)):n}function va(e){const{path:t}=e,n=je.get(t);n!==void 0&&je.set(t,!n)}function Tn(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function Dt(e){Tn(e.currentTarget)}function ba(e){e.keyCode===65&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),Tn(e.currentTarget))}function ya(e){return ce(e)&&mt(e._id)&&mt(e._type)}var Ot=Object.freeze,ja=Object.defineProperty,_a=(e,t)=>Ot(ja(e,"raw",{value:Ot(t||e.slice())})),Rt;const Pa=W.div(e=>{let{theme:t}=e;const{color:n,fonts:s,space:o}=t.sanity;return nn(Rt||(Rt=_a([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),s.code.family,s.code.sizes[2].fontSize,s.code.sizes[2].lineHeight,ae(o[4]),ae(o[3]),ae(o[4]),s.code.sizes[2].fontSize,s.code.sizes[2].lineHeight,s.code.sizes[2].fontSize,s.code.sizes[2].lineHeight,ae(o[4]/2),n.syntax.property,n.syntax.constant,ae(o[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function Ea(e){const{onChange:t,query:n}=e,s=u.useCallback(o=>t(o.target.value),[t]);return r.jsx(xs,{icon:vs,onChange:s,placeholder:"Search",radius:2,value:n||""})}function wa(e){const{value:t}=e,{onInspectClose:n,paneKey:s}=B(),o="".concat(s,"_inspect_"),[a,i]=ga("desk-tool","inspect-view-preferred-view-mode-".concat(s),"parsed"),c=xa.find(p=>p.id===a),l=u.useCallback(()=>{i(ee.id)},[i]),d=u.useCallback(()=>{i(te.id)},[i]);return r.jsx(rt,{id:"".concat(o,"dialog"),header:ya(t)?r.jsxs(r.Fragment,{children:["Inspecting"," ",r.jsx("em",{children:r.jsx(os,{document:t})})]}):r.jsx("em",{children:"No value"}),onClose:n,onClickOutside:n,width:3,children:r.jsxs(k,{direction:"column",height:"fill",children:[r.jsx(Z,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:r.jsxs(mn,{space:1,children:[r.jsx(Ue,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(ee.id),label:ee.title,onClick:l,selected:c===ee}),r.jsx(Ue,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(te.id),label:te.title,onClick:d,selected:c===te})]})}),r.jsxs(ss,{"aria-labelledby":"".concat(o,"tab-").concat(a),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[c===ee&&r.jsx(Pa,{children:r.jsx(Ir,{data:t,isExpanded:Mn,onClick:va,search:Ea})}),c===te&&r.jsx(Ye,{language:"json",tabIndex:0,onKeyDown:ba,onDoubleClick:Dt,onFocus:Dt,children:JSON.stringify(t,null,2)})]})]})})}var Mt=Object.freeze,Ia=Object.defineProperty,Nn=(e,t)=>Mt(Ia(e,"raw",{value:Mt(t||e.slice())})),Tt,Nt;const Sa=W(Z)(Tt||(Tt=Nn([`
  position: relative;
  z-index: 50;
`]))),kt=W(R)(Nt||(Nt=Nn([`
  & > * {
    overflow: hidden;
    overflow: clip;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),kn=u.memo(()=>{var e,t,n,s,o,a;const i=Yn(),{params:c,groupIndex:l,routerPanesState:d,replaceCurrent:p,BackLink:h}=Ee(),x=(e=d[l])==null?void 0:e[0].id,y=d[l-1],j=y==null?void 0:y[0],E=j==null?void 0:j.id,I=!!((t=j==null?void 0:j.params)!=null&&t.rev),b=u.useMemo(()=>(c==null?void 0:c.parentRefPath)&&We(c.parentRefPath)||null,[c==null?void 0:c.parentRefPath]),g=Gn(()=>{const f=b==null?void 0:b[0];if(!E||!f||!b)return Q({loading:!1});const v=No(E),S=We(f),_=S.findIndex(w=>typeof w=="object"&&"_key"in w);return fn(Q({loading:!0}),i.unstable_observePathsDocumentPair(v,_===-1?S:S.slice(0,_)).pipe(ko(750),J(w=>{let{draft:D,published:T}=w;var N;return{loading:!1,result:{availability:{draft:D.availability,published:T.availability},refValue:(N=Ao(D.snapshot||T.snapshot,b))==null?void 0:N._ref}}})))},[i,E,b],{loading:!0}),P=u.useCallback(()=>{var f;g.loading||(f=g.result)!=null&&f.refValue&&p({id:g.result.refValue,params:c})},[g.loading,g.result,p,c]);return!E||!b||I||g.loading||!((n=g.result)!=null&&n.availability.draft.available)&&!((s=g.result)!=null&&s.availability.published.available)||((o=g.result)==null?void 0:o.refValue)===x?null:r.jsx(Sa,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:r.jsx(de,{paddingX:4,paddingY:2,sizing:"border",width:1,children:r.jsxs(k,{align:"center",children:[r.jsx(R,{size:1,children:r.jsx(on,{})}),(a=g.result)!=null&&a.refValue?r.jsxs(r.Fragment,{children:[r.jsx(O,{flex:1,marginLeft:3,children:r.jsx(kt,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),r.jsx(O,{marginLeft:3,children:r.jsx($,{onClick:P,icon:sn,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):r.jsxs(r.Fragment,{children:[r.jsx(O,{flex:1,marginLeft:3,children:r.jsx(kt,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),r.jsx(O,{marginLeft:3,children:r.jsx($,{as:h,icon:$e,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});kn.displayName="ReferenceChangedBanner";var At=Object.freeze,Ca=Object.defineProperty,Da=(e,t)=>At(Ca(e,"raw",{value:At(t||e.slice())})),Lt;const Oa=W(Z)(Lt||(Lt=Da([`
  position: relative;
  z-index: 50;
`])));function Ra(e){let{granted:t,requiredPermission:n}=e;var s,o;const a=rs(),i=((s=a==null?void 0:a.roles)==null?void 0:s.length)!==1,c=Ma(((o=a==null?void 0:a.roles)==null?void 0:o.map(l=>r.jsx("code",{children:l.title},l.name)))||[],", ");return t?null:r.jsx(Oa,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:r.jsx(de,{paddingX:4,paddingY:3,sizing:"border",width:1,children:r.jsxs(k,{align:"flex-start",children:[r.jsx(R,{size:1,children:r.jsx(as,{})}),r.jsx(O,{flex:1,marginLeft:3,children:r.jsxs(R,{size:1,children:["Your role",i&&"s"," ",c," ",i?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function Ma(e,t){return e.reduce((n,s)=>n===null?[s]:n.concat([t,s]),null)}function Ta(e){const t=u.useRef();return u.useEffect(()=>{t.current=e},[e]),t.current}const Na=1e3*60*60*24*24;function ka(e){const t=Ze(),n=Ta(e.enabled);u.useEffect(()=>{!n&&e.enabled&&t.push({...e,duration:Na}),n&&!e.enabled&&t.push({...e,duration:.01})},[e,t,n])}const Aa=e=>e.preventDefault(),La=u.forwardRef(function(t,n){var s;const{hidden:o,margins:a}=t,{collapsedFieldSets:i,collapsedPaths:c,displayed:l,editState:d,documentId:p,documentType:h,fieldActions:x,onChange:y,validation:j,ready:E,formState:I,onFocus:b,onBlur:g,onSetCollapsedPath:P,onPathOpen:m,onSetCollapsedFieldSet:f,onSetActiveFieldGroup:v}=B(),S=tn(),_=Kn(p),w=u.useMemo(()=>qn(),[]),D=(s=d==null?void 0:d.transactionSyncLock)==null?void 0:s.enabled;ka({id:"sync-lock-".concat(p),status:"warning",enabled:D,title:"Syncing document…",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),u.useEffect(()=>{const H=S.pair.documentEvents(p,h).pipe(Xn(Y=>{Y.type==="mutation"&&w.publish(Fa(Y)),Y.type==="rebase"&&w.publish(za(Y))})).subscribe();return()=>{H.unsubscribe()}},[p,S,h,w]);const T=!!(l!=null&&l._rev);u.useEffect(()=>{T&&w.publish({type:"mutation",patches:[],snapshot:l})},[T]);const[N,C]=u.useState(null);u.useEffect(()=>{E&&!(I!=null&&I.focusPath.length)&&N&&Jn(N)},[E]);const M=u.useCallback(H=>{C(H),typeof n=="function"?n(H):n&&(n.current=H)},[n]);return r.jsx(de,{hidden:o,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:r.jsx(Qn,{margins:a,children:r.jsx(O,{as:"form",onSubmit:Aa,ref:M,children:E?I===null?r.jsx(O,{padding:2,children:r.jsx(R,{children:"This form is hidden"})}):r.jsx(Zn,{__internal_fieldActions:x,__internal_patchChannel:w,collapsedFieldSets:i,collapsedPaths:c,focusPath:I.focusPath,changed:I.changed,focused:I.focused,groups:I.groups,id:"root",members:I.members,onChange:y,onFieldGroupSelect:v,onPathBlur:g,onPathFocus:b,onPathOpen:m,onSetFieldSetCollapsed:f,onSetPathCollapsed:P,presence:_,readOnly:I.readOnly,schemaType:I.schemaType,validation:j,value:I.value}):r.jsx(eo,{ms:300,children:r.jsxs(k,{align:"center",direction:"column",height:"fill",justify:"center",children:[r.jsx(rn,{muted:!0}),r.jsx(O,{marginTop:3,children:r.jsx(R,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})});function Fa(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:Ge(e.origin,t)}}function za(e){const t=e.remoteMutations.map(s=>s.patch).filter(Boolean),n=e.localMutations.map(s=>s.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:Ge("remote",t).concat(Ge("local",n))}}function Ba(){const{activeViewId:e,paneKey:t,views:n}=B(),s="".concat(t,"tabpanel");return r.jsx(mn,{space:1,children:n.map((o,a)=>{var i;return r.jsx(Wa,{icon:o.icon,id:"".concat(t,"tab-").concat(o.id),isActive:e===o.id,label:r.jsx(r.Fragment,{children:o.title}),tabPanelId:s,viewId:a===0?null:(i=o.id)!=null?i:null},o.id)})})}function Wa(e){const{isActive:t,tabPanelId:n,viewId:s}=e,{ready:o}=B(),{setView:a}=Ee(),i=u.useCallback(()=>a(s),[a,s]);return r.jsx(Ue,{...e,"aria-controls":n,disabled:!o,fontSize:1,selected:t,onClick:i})}function $a(){const{connectionState:e,schemaType:t,title:n,value:s}=B(),o=!!s&&e==="connected",{error:a,value:i}=Lo({enabled:o,schemaType:t,value:s});return e!=="connected"?r.jsx(r.Fragment,{}):n?r.jsx(r.Fragment,{children:n}):s?a?r.jsxs(r.Fragment,{children:["Error: ",a.message]}):r.jsx(r.Fragment,{children:(i==null?void 0:i.title)||r.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):r.jsxs(r.Fragment,{children:["New ",(t==null?void 0:t.title)||(t==null?void 0:t.name)]})}const Ha=u.memo(u.forwardRef(function(t,n){const{onMenuAction:s,onPaneClose:o,onPaneSplit:a,menuItems:i,menuItemGroups:c,schemaType:l,timelineStore:d,ready:p,views:h,unstable_languageFilter:x}=B(),{features:y}=oe(),{index:j,BackLink:E,hasGroupSiblings:I}=Ee(),{actions:b}=to(),g=u.useMemo(()=>no({actionHandler:s,fieldActions:b,menuItems:i,menuItemGroups:c}),[s,b,c,i]),P=u.useMemo(()=>g.filter(oo),[g]),m=u.useMemo(()=>g.filter(so),[g]),f=h.length>1,v=we(d,C=>C.revTime),{collapsed:S,isLast:_}=et(),w=_&&!S?-1:0,D=y.splitViews&&a&&h.length>1,T=D&&I,N=!T&&!y.backButton;return r.jsx(tt,{ref:n,loading:!p,title:r.jsx($a,{}),tabs:f&&r.jsx(Ba,{}),tabIndex:w,backButton:y.backButton&&j>0&&r.jsx($,{as:E,"data-as":"a",icon:ro,mode:"bleed",padding:2}),subActions:r.jsx(ao,{chunk:v,mode:"rev",placement:"bottom-end"}),actions:r.jsxs(k,{align:"center",gap:1,children:[x.length>0&&r.jsx(r.Fragment,{children:x.map((C,M)=>u.createElement(C,{key:"language-filter-".concat(M),schemaType:l}))}),P.map(C=>r.jsx(io,{node:C},C.key)),r.jsx(lo,{nodes:m},"context-menu"),D&&r.jsx(se,{content:r.jsx(R,{size:1,style:{whiteSpace:"nowrap"},children:"Split pane right"}),padding:2,placement:"bottom",portal:!0,children:r.jsx($,{"aria-label":"Split pane right",icon:co,mode:"bleed",onClick:a},"split-pane-button")}),T&&r.jsx($,{icon:$e,mode:"bleed",onClick:o,title:"Close split pane"},"close-view-button"),N&&r.jsx($,{icon:$e,mode:"bleed",title:"Close pane group",as:E},"close-view-button")]})})}));var Ft=Object.freeze,Ua=Object.defineProperty,Va=(e,t)=>Ft(Ua(e,"raw",{value:Ft(t||e.slice())})),zt;const Ya=W(O)({position:"relative"}),Ga=W(uo)(e=>{let{$disabled:t}=e;return t?{height:"100%"}:nn(zt||(zt=Va([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),Ka=function(t){const{footerHeight:n,isInspectOpen:s,rootElement:o,setDocumentPanelPortalElement:a}=t,{activeViewId:i,displayed:c,documentId:l,editState:d,inspector:p,value:h,views:x,ready:y,schemaType:j,permissions:E,isPermissionsLoading:I}=B(),{collapsed:b}=cn(),{collapsed:g}=et(),P=gn(),{features:m}=oe(),[f,v]=u.useState(null),S=Ie(f),_=u.useRef(null),[w,D]=u.useState(null),T=u.useRef(null),N=h._createdAt?"update":"create",C=u.useMemo(()=>x.find(K=>K.id===i)||x[0]||{type:"form"},[i,x]),M=m.splitPanes&&_.current||P.element,H=u.useMemo(()=>b?[(S==null?void 0:S.height)||0,0,n?n+2:2,0]:[0,0,2,0],[b,n,S]),Y=C.type!=="form",Re=u.useMemo(()=>C.type==="component"&&C.component&&u.createElement(C.component,{document:{draft:(d==null?void 0:d.draft)||null,displayed:c||h,historical:c,published:(d==null?void 0:d.published)||null},documentId:l,options:C.options,schemaType:j}),[C,c,l,d==null?void 0:d.draft,d==null?void 0:d.published,j,h]);u.useEffect(()=>{w!=null&&w.scrollTo&&w.scrollTo(0,0)},[l,w]),u.useEffect(()=>{M&&a(M)},[M,a]);const Me=u.useMemo(()=>s?r.jsx(wa,{value:c||h}):null,[s,c,h]),re=!!(!g&&p);return r.jsxs(r.Fragment,{children:[r.jsx(Ha,{ref:v}),r.jsx(Pe,{children:r.jsxs(k,{height:"fill",children:[(m.resizablePanes||!re)&&r.jsx(Ya,{flex:2,overflow:"hidden",children:r.jsx(Se,{element:M,__unstable_elements:{documentScrollElement:w},children:r.jsx(pt,{element:w,children:r.jsxs(Fo,{scrollElement:w,containerElement:T,children:[C.type==="form"&&!I&&y&&r.jsxs(r.Fragment,{children:[r.jsx(Ra,{granted:!!(E!=null&&E.granted),requiredPermission:N}),r.jsx(kn,{})]}),r.jsxs(Ga,{$disabled:b||!1,"data-testid":"document-panel-scroller",ref:D,children:[r.jsx(La,{hidden:Y,margins:H,ref:T},l+(y?"_ready":"_pending")),Re]}),Me,r.jsx("div",{"data-testid":"document-panel-portal",ref:_})]})})})}),re&&r.jsx(pt,{element:o,children:r.jsx(Lr,{documentId:l,documentType:j.name,flex:1})})]})})]})},An=["left","bottom"],qa={small:0,medium:1,large:2,full:"auto"};function Xa(e){const{dialog:t,referenceElement:n}=e;return r.jsx(bn,{content:r.jsx(Ja,{dialog:t}),fallbackPlacements:An,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function Ja(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:s,confirmButtonIcon:o,confirmButtonText:a,message:i,onCancel:c,onConfirm:l,tone:d}=t,{isTopLayer:p}=yn(),[h,x]=u.useState(null),y=u.useCallback(()=>{p&&c()},[p,c]),j=u.useCallback(E=>{E.key==="Escape"&&p&&c()},[p,c]);return jn(y,[h]),_n(j),r.jsxs(k,{direction:"column",ref:x,style:{minWidth:320-16,maxWidth:400},children:[r.jsx(O,{flex:1,overflow:"auto",padding:4,children:r.jsx(R,{children:i})}),r.jsx(O,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:r.jsxs(bs,{columns:2,gap:2,children:[r.jsx($,{icon:n,onClick:c,mode:"ghost",text:s||"Cancel"}),r.jsx($,{icon:o,onClick:l,text:a||"Confirm",tone:d})]})})]})}function Qa(e){const{dialog:t}=e,n=u.useId(),s=t.footer&&r.jsx(O,{paddingX:4,paddingY:3,children:t.footer});return r.jsx(ot,{zOffset:"fullscreen",children:r.jsx(rt,{__unstable_hideCloseButton:t.showCloseButton===!1,footer:s,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:qa[t.width],children:r.jsx(O,{padding:4,children:t.content})})})}function Za(e){const{dialog:t,referenceElement:n}=e;return r.jsx(bn,{content:r.jsx(ei,{dialog:t}),fallbackPlacements:An,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function ei(e){const{dialog:t}=e,{content:n,onClose:s}=t,{isTopLayer:o}=yn(),[a,i]=u.useState(null),c=u.useCallback(()=>{o&&s()},[o,s]),l=u.useCallback(d=>{d.key==="Escape"&&o&&s()},[o,s]);return jn(c,[a]),_n(l),r.jsx("div",{ref:i,children:n})}function Bt(e){const{children:t}=e,{element:n,elements:s}=gn(),o=(s==null?void 0:s[dn])||n;return r.jsx(Se,{element:o,children:t})}function ct(e){const{dialog:t,referenceElement:n=null}=e,s=u.useId();if(t.type==="confirm")return r.jsx(Xa,{dialog:t,referenceElement:n});if(t.type==="popover")return r.jsx(Za,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return r.jsx(Bt,{children:r.jsx(Qa,{dialog:t})});if(t.type==="custom")return r.jsx(Bt,{children:t==null?void 0:t.component});const o=t;return console.warn("Unsupported modal type ".concat(o.type)),r.jsx(rt,{id:s,onClose:o.onClose,onClickOutside:o.onClose,width:2,children:r.jsx(O,{padding:4,children:o.content||r.jsxs(r.Fragment,{children:["Unexpected modal type (",r.jsx("code",{children:o.type}),")"]})})})}function ti(e){const{actionStates:t,disabled:n}=e,s=u.useId(),o=u.useRef(null),[a,i]=u.useState(-1),[c,l]=u.useState(null),d=u.useCallback(x=>{i(x)},[]),p=u.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),h=t[a];return r.jsxs(r.Fragment,{children:[r.jsx(is,{id:"".concat(s,"-action-menu"),button:r.jsx($,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:ls,mode:"ghost",ref:o}),menu:r.jsx(cs,{padding:1,children:t.map((x,y)=>r.jsx(ni,{actionState:x,disabled:n,index:y,onAction:d},y))}),popover:p,ref:l}),h&&h.dialog&&r.jsx(ot,{zOffset:"paneFooter",children:r.jsx(ct,{dialog:h.dialog,referenceElement:c})})]})}function ni(e){const{actionState:t,disabled:n,index:s,onAction:o}=e,{onHandle:a}=t,i=u.useCallback(()=>{o(s),a&&a()},[s,o,a]),c=t.title&&r.jsx(O,{padding:2,children:r.jsx(R,{size:1,children:t.title})});return r.jsx(ds,{"data-testid":"action-".concat(t.label.replace(" ","")),disabled:n||!!t.disabled,onClick:i,padding:0,tone:t.tone,children:r.jsx(se,{content:c,disabled:!c,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:r.jsxs(k,{align:"center",paddingX:3,children:[r.jsxs(k,{flex:1,paddingY:3,children:[t.icon&&r.jsx(O,{marginRight:3,children:r.jsxs(R,{children:[u.isValidElement(t.icon)&&t.icon,us.isValidElementType(t.icon)&&u.createElement(t.icon)]})}),r.jsx(R,{children:t.label})]}),t.shortcut&&r.jsx(O,{marginLeft:3,children:r.jsx(xn,{keys:String(t.shortcut).split("+").map(l=>l.slice(0,1).toUpperCase()+l.slice(1))})})]})})})}function Ln(e){const{disabled:t,showMenu:n,states:s}=e,[o,...a]=s,[i,c]=u.useState(null),l=u.useMemo(()=>!o||!o.title&&!o.shortcut?null:r.jsxs(k,{padding:2,style:{maxWidth:300},align:"center",children:[r.jsx(R,{size:1,children:o.title}),o.shortcut&&r.jsx(O,{marginLeft:o.title?2:0,children:r.jsx(xn,{keys:String(o.shortcut).split("+").map(d=>d.slice(0,1).toUpperCase()+d.slice(1).toLowerCase())})})]}),[o]);return r.jsxs(k,{children:[o&&r.jsx(zo,{zOffset:200,children:r.jsx(se,{disabled:!l,content:l,portal:!0,placement:"top",children:r.jsx(X,{flex:1,children:r.jsx($,{"data-testid":"action-".concat(o.label),disabled:t||!!o.disabled,icon:o.icon,onClick:o.onHandle,ref:c,text:o.label,tone:o.tone||"primary"})})})}),n&&a.length>0&&r.jsx(O,{marginLeft:1,children:r.jsx(ti,{actionStates:a,disabled:t})}),o&&o.dialog&&r.jsx(ct,{dialog:o.dialog,referenceElement:i})]})}const oi=u.memo(function(){const{actions:t,connectionState:n,documentId:s,editState:o}=B();return!t||!o?null:r.jsx(lt,{actions:t,actionProps:o,children:a=>{let{states:i}=a;return r.jsx(Ln,{disabled:n!=="connected",showMenu:t.length>1,states:i},s)}})}),si=u.memo(function(){const{connectionState:t,editState:n,timelineStore:s}=B(),o=we(s,d=>d.revTime),a=(o==null?void 0:o.id)||"",i=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===a,c=u.useMemo(()=>({...n||{},revision:a}),[n,a]),l=u.useMemo(()=>[po],[]);return r.jsx(lt,{actions:l,actionProps:c,children:d=>{let{states:p}=d;return r.jsx(Ln,{disabled:t!=="connected"||!!i,showMenu:!1,states:p})}})}),ri={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function ai(e){let{states:t}=e;return r.jsx(ps,{space:1,children:t.map((n,s)=>r.jsx(se,{content:n.title&&r.jsx(O,{padding:2,children:r.jsx(R,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:r.jsx(hs,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?ri[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(s)))})}function ii(){const{badges:e,editState:t}=B();return!t||!e?null:r.jsx(Dr,{badges:e,badgeProps:t,children:n=>{let{states:s}=n;return r.jsx(ai,{states:s})}})}var Wt=Object.freeze,li=Object.defineProperty,ci=(e,t)=>Wt(li(e,"raw",{value:Wt(t||e.slice())})),$t;const di=W(k)($t||($t=ci([`
  cursor: default;
`])));function ui(e){const{collapsed:t,disabled:n,lastPublished:s,lastUpdated:o,liveEdit:a}=e,i=G(s||"",{minimal:!0,agoSuffix:!0}),c=G(s||"",{minimal:!0}),l=G(o||"",{minimal:!0,agoSuffix:!0}),d=G(o||"",{minimal:!0}),p=G(o||"",{minimal:!1,agoSuffix:!0}),h=G(s||"",{minimal:!1,agoSuffix:!0}),x=a?"Last updated ".concat(p):"Last published ".concat(h);return r.jsx(di,{align:"center","data-ui":"SessionLayout",sizing:"border",children:r.jsx(se,{placement:"top",portal:!0,content:r.jsx(X,{padding:3,space:3,children:r.jsx(R,{size:1,children:a?r.jsxs(r.Fragment,{children:["Last updated"," ",r.jsx("abbr",{"aria-label":o?p:h,children:o?l:i})]}):r.jsxs(r.Fragment,{children:["Last published ",r.jsx("abbr",{"aria-label":h,children:i})]})})}),children:r.jsx($,{mode:"bleed",tone:a?"critical":"positive",tabIndex:-1,disabled:n,"aria-label":x,children:r.jsxs(k,{align:"center",children:[r.jsx(O,{marginRight:t?0:3,children:r.jsx(R,{size:2,"aria-hidden":"true",children:a?r.jsx(Bo,{}):r.jsx(Wo,{})})}),!t&&r.jsx(R,{size:1,weight:"medium",children:a?r.jsx("abbr",{"aria-label":x,children:o?d:c}):r.jsx("abbr",{"aria-label":x,children:c})})]})})})})}var Ht=Object.freeze,pi=Object.defineProperty,dt=(e,t)=>Ht(pi(e,"raw",{value:Ht(t||e.slice())})),Ut,Vt,Yt;const hi=W(ue.path)(Ut||(Ut=dt([`
  transform-origin: center;
`]))),fi=e=>r.jsx(ue.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),mi=e=>r.jsx(hi,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),gi=e=>r.jsx(ue.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),xi=e=>r.jsx(ue.path,{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",...e}),vi=ho(Vt||(Vt=dt([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),bi=W.g(Yt||(Yt=dt([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),vi),yi={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},ji={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},_i={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},Pi={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},Ei={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function wi(e){const{status:t}=e;return t?r.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:r.jsxs(ue.g,{variants:yi,initial:t,animate:t,children:[r.jsxs(bi,{"data-rotate":t==="changes"?void 0:"",children:[r.jsx(mi,{variants:_i,initial:t,animate:t}),r.jsx(fi,{variants:ji,initial:t,animate:t})]}),r.jsx(gi,{variants:Pi,initial:t,animate:t}),r.jsx(xi,{variants:Ei,initial:t,animate:t})]})}):null}const Ii=nt.forwardRef(function(t,n){const{collapsed:s,status:o,lastUpdated:a,...i}=t,c=G(a||"",{minimal:!0}),l=G(a||"",{minimal:!0,agoSuffix:!0}),d=G(a||"",{minimal:!1,agoSuffix:!0}),p=u.useMemo(()=>o==="syncing"?{text:"Saving...",tone:void 0}:o==="changes"?{text:c,tone:"caution"}:o==="saved"?{text:"Saved!",tone:"positive"}:{},[o,c]);return o?r.jsx(se,{placement:"top",portal:!0,disabled:o!=="changes",content:r.jsxs(X,{padding:3,space:3,children:[r.jsx(R,{size:1,weight:"semibold",children:"Review changes"}),r.jsxs(R,{size:1,muted:!0,children:["Changes saved ",r.jsx("abbr",{"aria-label":d,children:l})]})]}),children:r.jsx($,{mode:"bleed",justify:"flex-start",tone:p==null?void 0:p.tone,...i,"data-testid":"review-changes-button",ref:n,"aria-label":"Review changes",children:r.jsxs(k,{align:"center",children:[r.jsx(O,{marginRight:s?0:3,"aria-hidden":"true",children:r.jsx(R,{children:r.jsx(wi,{status:o})})}),!s&&r.jsx(R,{size:1,weight:"medium",children:p==null?void 0:p.text})]})})}):null}),Si=nt.memo(Ii),Ci=1e3,Di=3e3,Oi=u.memo(function(){var t;const{changesOpen:n,documentId:s,documentType:o,editState:a,onHistoryClose:i,onHistoryOpen:c,timelineStore:l,value:d}=B(),p=fo(s,o),h=d==null?void 0:d._updatedAt,x=(t=a==null?void 0:a.published)==null?void 0:t._updatedAt,y=!!(a!=null&&a.liveEdit),j=!!(a!=null&&a.published),E=!!(a!=null&&a.draft),[I,b]=u.useState(null),g=Ie(I),P=!g||(g==null?void 0:g.width)<300,[m,f]=u.useState(null),v=we(l,w=>w.onOlderRevision);u.useEffect(()=>{if(m==="syncing"&&!p.isSyncing){const w=setTimeout(()=>f("saved"),Ci);return()=>clearTimeout(w)}if(m==="saved"){const w=setTimeout(()=>f(null),Di);return()=>clearTimeout(w)}},[m,h,p.isSyncing]),u.useLayoutEffect(()=>{f(null)},[s]),u.useLayoutEffect(()=>{p.isSyncing&&f("syncing")},[p.isSyncing,h]);const S=u.useMemo(()=>r.jsx(Si,{lastUpdated:h,status:m||(E?"changes":void 0),onClick:n?i:c,disabled:v,selected:n,collapsed:P}),[E,n,i,c,h,v,m,P]),_=u.useMemo(()=>(y||j)&&r.jsx(O,{marginRight:1,children:r.jsx(ui,{disabled:v,lastPublished:x,lastUpdated:h,liveEdit:y,collapsed:P})}),[P,x,h,y,j,v]);return r.jsxs(k,{align:"center","data-ui":"DocumentSparkline",ref:b,children:[_,r.jsxs(k,{align:"center",flex:1,children:[S,!P&&r.jsx(O,{marginLeft:3,children:r.jsx(ii,{})})]})]})});var Gt=Object.freeze,Ri=Object.defineProperty,Mi=(e,t)=>Gt(Ri(e,"raw",{value:Gt(t||e.slice())})),Kt;const Ti=W(O)(Kt||(Kt=Mi([`
  min-width: 10em;
  max-width: 16em;
`])));function Ni(e){const{actionsBoxRef:t}=e,{badges:n,timelineStore:s}=B(),o=we(s,a=>a.onOlderRevision);return u.useMemo(()=>r.jsx(O,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:r.jsxs(k,{align:"center",children:[r.jsx(O,{flex:[1,2],children:n&&r.jsx(Oi,{})}),r.jsx(Ti,{flex:1,marginLeft:[1,3],ref:t,children:o?r.jsx(si,{}):r.jsx(oi,{})})]})}),[t,n,o])}function ki(e){const{actionsBoxElement:t,activeIndex:n,as:s="div",children:o,id:a,onActionStart:i,onKeyDown:c,rootRef:l,states:d,...p}=e,h=d[n],x=u.useCallback(y=>{const j=d.filter(I=>I.shortcut&&un(I.shortcut,y)),E=j[0];if(j.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(E.shortcut,'"')),E&&!E.disabled&&E.onHandle){y.preventDefault(),E.onHandle(),i(d.indexOf(E));return}c&&c(y)},[i,c,d]);return u.createElement(s,{id:a,onKeyDown:x,tabIndex:-1,...p,ref:l},[o,h&&h.dialog&&r.jsx(ot,{zOffset:"paneFooter",children:r.jsx(ct,{dialog:h.dialog,referenceElement:t})})])}const Fn=nt.memo(e=>{const{actionsBoxElement:t,as:n="div",children:s,...o}=e,{actions:a,editState:i}=B(),[c,l]=u.useState(-1),d=u.useCallback(h=>{l(h)},[]),p=u.useMemo(()=>i&&{...i,onComplete:()=>{},revision:void 0},[i]);return!p||!a?null:r.jsx(lt,{actionProps:p,actions:a,children:h=>{let{states:x}=h;return r.jsx(ki,{...o,activeIndex:c,actionsBoxElement:t,as:n,onActionStart:d,states:x,children:s})}})});Fn.displayName="DocumentActionShortcuts";var qt=Object.freeze,Ai=Object.defineProperty,Li=(e,t)=>qt(Ai(e,"raw",{value:qt(t||e.slice())})),Xt;const Jt=["fixed","absolute"],Fi=W(mo)(Xt||(Xt=Li([`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`]))),Ji=u.memo(function(t){const{name:n}=an();return r.jsx(ln,{name:t.pane.source||n,children:r.jsx(zi,{...t})})});function zi(e){var t;const{pane:n,paneKey:s}=e,{resolveNewDocumentOptions:o}=an().document,a=Ee(),i=Bi(n.options,a.params),{documentType:c,isLoaded:l}=go(i.id,i.type),d=u.useMemo(()=>o({type:"document",documentId:i.id,schemaType:i.type}),[i.id,i.type,o]),[p,h]=xo({templateItems:d}),x=l&&!h,y=u.useMemo(()=>x&&c&&i.type!==c?Wi(e,i,c):e,[e,c,x,i]),{ReferenceChildLink:j,handleEditReference:E,groupIndex:I,routerPanesState:b}=a,g=((t=b[I+1])==null?void 0:t[0].params)||{},P=b.length,{parentRefPath:m}=g,f=u.useMemo(()=>m?{path:We(m),state:I>=P-1?"none":I>=P-2?"selected":"pressed"}:{path:[],state:"none"},[m,I,P]);return i.type==="*"&&!x?r.jsx(le,{flex:2.5,minWidth:320,paneKey:s,title:"Loading document…"}):c?r.jsx(vo,{...y,children:r.jsx(bo,{EditReferenceLinkComponent:j,onEditReference:E,initialValueTemplateItems:p,activePath:f,children:r.jsx($i,{})})},"".concat(c,"-").concat(i.id)):r.jsx(Rn,{flex:2.5,minWidth:320,paneKey:s,title:r.jsx(r.Fragment,{children:"The document was not found"}),children:r.jsx(X,{space:4,children:r.jsxs(R,{as:"p",children:["The document type is not defined, and a document with the ",r.jsx("code",{children:i.id})," ","identifier could not be found."]})})})}function Bi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=yo();return u.useMemo(()=>{if(e.type&&e.type!=="*")return e;const s=e.template||t.template,o=s?n.find(i=>i.id===s):void 0,a=o==null?void 0:o.schemaType;return a?{...e,type:a}:e},[e,t.template,n])}function Wi(e,t,n){return{...e,pane:{...e.pane,options:{...t,type:n}}}}function $i(){const{changesOpen:e,documentType:t,inspector:n,inspectOpen:s,onFocus:o,onPathOpen:a,onHistoryOpen:i,onKeyUp:c,paneKey:l,schemaType:d,value:p}=B(),{collapsed:h}=cn(),x=jo(),[y,j]=u.useState(null),[E,I]=u.useState(null),[b,g]=u.useState(null),[P,m]=u.useState(null),f=Ie(E),v=f==null?void 0:f.height,S=u.useCallback(D=>{a(D),o(D)},[a,o]),_=$o+(n?Ve:0),w=Ho+(n?Ve:0);return d?r.jsxs(Fn,{actionsBoxElement:b,as:_e,currentMinWidth:_,"data-testid":"document-pane",flex:2.5,id:l,minWidth:w,onKeyUp:c,rootRef:j,children:[r.jsx(ut,{position:Jt,zOffset:x.portal,children:r.jsx(k,{direction:"column",flex:1,height:h?void 0:"fill",children:r.jsx(Fi,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:i,onSetFocus:S,children:r.jsx(Ka,{footerHeight:v||null,isInspectOpen:s,rootElement:y,setDocumentPanelPortalElement:m})})})}),r.jsx(Se,{__unstable_elements:{[dn]:P},children:r.jsx(ut,{position:Jt,zOffset:x.portal,children:r.jsx(Po,{ref:I,children:r.jsx(Ni,{actionsBoxRef:g})})})}),r.jsx(ma,{})]}):r.jsx(Rn,{currentMinWidth:_,flex:2.5,minWidth:w,paneKey:l,title:r.jsxs(r.Fragment,{children:["Unknown document type: ",r.jsx("code",{children:t})]}),tone:"caution",children:r.jsxs(X,{space:4,children:[t&&r.jsxs(R,{as:"p",children:["This document has the schema type ",r.jsx("code",{children:t}),", which is not defined as a type in the local content studio schema."]}),!t&&r.jsx(R,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),_o]})})}function Hi(){return r.jsx(Z,{height:"fill",children:r.jsx(k,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:r.jsx(de,{width:0,children:r.jsx(Z,{padding:4,radius:2,shadow:1,tone:"caution",children:r.jsxs(k,{children:[r.jsx(O,{children:r.jsx(R,{size:1,children:r.jsx(on,{})})}),r.jsxs(X,{flex:1,marginLeft:3,space:3,children:[r.jsx(R,{as:"h1",size:1,weight:"bold",children:"No document types"}),r.jsx(R,{as:"p",muted:!0,size:1,children:"Please define at least one document type in your schema."}),r.jsx(R,{as:"p",muted:!0,size:1,children:r.jsx("a",{href:"https://www.sanity.io/docs/create-a-schema-and-configure-sanity-studio",target:"_blank",rel:"noreferrer",children:"Learn how to add a document type →"})})]})]})})})})})}var Qt=Object.freeze,Ui=Object.defineProperty,Vi=(e,t)=>Qt(Ui(e,"raw",{value:Qt(t||e.slice())})),Zt;const Yi=W(Ar)(Zt||(Zt=Vi([`
  min-height: 100%;
  min-width: 320px;
`]))),Gi=un("mod+s"),Ki=u.memo(function(t){let{onPaneChange:n}=t;var s;const{push:o}=Ze(),a=Eo(),{layoutCollapsed:i,setLayoutCollapsed:c}=oe(),{paneDataItems:l,resolvedPanes:d}=qr(),p=Qe(u.useCallback(I=>typeof I.intent=="string",[])),[h,x]=u.useState(null),y=u.useCallback(()=>c(!0),[c]),j=u.useCallback(()=>c(!1),[c]);return u.useEffect(()=>{d.length&&n(d)},[n,d]),u.useEffect(()=>{const I=b=>{Gi(b)&&(b.preventDefault(),o({closable:!0,id:"auto-save-message",status:"info",title:"Your work is automatically saved!",duration:4e3}))};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[o]),((s=a._original)==null?void 0:s.types.some(wo))?r.jsxs(Se,{element:h||null,children:[r.jsxs(Yi,{flex:1,height:i?void 0:"fill",minWidth:512,onCollapse:y,onExpand:j,children:[l.map(I=>{let{active:b,childItemId:g,groupIndex:P,itemId:m,key:f,pane:v,index:S,params:_,path:w,payload:D,siblingIndex:T,selected:N}=I;return r.jsx(u.Fragment,{children:v===He?r.jsx(le,{paneKey:f,path:w,selected:N}):r.jsx(ua,{active:b,groupIndex:P,index:S,pane:v,childItemId:g,itemId:m,paneKey:f,params:_,payload:D,path:w,selected:N,siblingIndex:T})},"".concat(v===He?"loading":v.type,"-").concat(S))}),l.length<=1&&p&&r.jsx(le,{paneKey:"intent-resolver"})]}),r.jsx("div",{"data-portal":"",ref:x})]}):r.jsx(Hi,{})});function qi(e){let{tool:{options:t}}=e;const{unstable_sources:n}=Uo(),[s]=n,{source:o,defaultDocumentNode:a,structure:i}=t||{};u.useEffect(()=>(Te([]),()=>Te([])),[]);const[{error:c},l]=u.useState({error:null});return c?r.jsx(oa,{error:c}):r.jsx(Vo,{onCatch:l,children:r.jsx(ln,{name:o||s.name,children:r.jsxs(Yo,{defaultDocumentNode:a,structure:i,children:[r.jsx(Ki,{onPaneChange:Te}),r.jsx(Qr,{})]})})})}var Qi=Object.freeze({__proto__:null,default:qi});export{Ji as DocumentPane,Qi as index,ga as useDeskToolSetting};
